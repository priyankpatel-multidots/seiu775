(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#ina_show_warn_message_only"),t=document.querySelector("#show_on_warn_message_enabled"),n=document.querySelectorAll(".ina-hide-section"),a=document.querySelector("#ina_enable_redirect_link"),l=document.querySelector(".show_on_enable_redirect_link"),o=document.querySelector(".ina_redirect_page"),d=document.getElementById("ina-reset-adv-data"),i=document.getElementById("ina-logout-like-dismiss"),r=document.getElementById("ina-settings-form"),s=document.getElementById("ina_enable_different_role_timeout");null!==e&&e.addEventListener("click",(e=>{e.target.checked?(n.forEach((e=>{e.style.display="none"})),t.style.display="table-row"):(n.forEach((e=>{e.style.display="table-row"})),t.style.display="none")})),null!==a&&a.addEventListener("click",(e=>{e.target.checked?(l.style.display="table-row","custom-page-redirect"===o.value&&(document.getElementById("show_if_custom_redirect").style.display="inline")):l.style.display="none"})),null!==d&&d.addEventListener("click",(e=>{if(e.preventDefault(),!confirm(e.target.getAttribute("data-msg")))return!1;fetch(ajaxurl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:"action=ina_reset_adv_settings"}).then((e=>e.json())).then((e=>{location.reload()}))})),null!==i&&i.addEventListener("click",(e=>{e.preventDefault(),fetch(ajaxurl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:"action=ina_dismiss_like_notice"}).then((()=>{document.querySelector(".ina-logout-like-dismiss-wrapper").remove()}))})),null!==r&&r.addEventListener("submit",(e=>{e.preventDefault(),tinyMCE.triggerSave();const t=document.getElementById("ina-settings-save");t.setAttribute("disabled","disabled");const n=t.value;t.value=t.dataset.loading;const a=new FormData(e.target);a.append("action","ina_save_settings"),fetch(ajaxurl,{method:"POST",body:a}).then((e=>e.json())).then((e=>{const a=document.querySelector(".message");a.classList.add("updated"),a.innerHTML="<p>"+e.data+"</p>",t.removeAttribute("disabled"),t.value=n,location.reload()}))})),null!==s&&s.addEventListener("click",(e=>{const t=document.querySelectorAll(".ina-multi-role-table");!0===e.target.checked?t.forEach((e=>{e.style.display="table-row"})):t.forEach((e=>{e.style.display="none"}))}))}))})();